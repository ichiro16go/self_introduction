(()=>{var e={};e.id=194,e.ids=[194],e.modules={573:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>d,serverHooks:()=>p,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>u});var n={};r.r(n),r.d(n,{POST:()=>c});var a=r(6559),o=r(8088),i=r(7719),s=r(2190);let l=require("canvas");async function c(e){try{let a=await e.formData(),o={name:a.get("name"),birthMonth:a.get("birthMonth"),birthDay:a.get("birthDay"),department:a.get("department"),grade:a.get("grade"),hometown:a.get("hometown"),mbti:a.get("mbti"),recentBoom:a.get("recentBoom"),skill:a.get("skill"),part:a.get("part"),recentNews:a.get("recentNews"),favoriteBand:a.get("favoriteBand"),rankingLabel:a.get("rankingLabel"),ranking1:a.get("ranking1"),ranking2:a.get("ranking2"),ranking3:a.get("ranking3"),comment:a.get("comment"),color:a.get("color")},i=(0,l.createCanvas)(600,800),c=i.getContext("2d"),d={pink:{colors:["#fce7f3","#fed7aa"]},blue:{colors:["#dbeafe","#a7f3d0"]},green:{colors:["#dcfce7","#a7f3d0"]},purple:{colors:["#e9d5ff","#fce7f3"]},yellow:{colors:["#fef3c7","#fed7aa"]}},g=d[o.color]||d.pink,u=c.createLinearGradient(0,0,600,800);function t(e,t,r,n,a){c.beginPath(),c.moveTo(e+a,t),c.lineTo(e+r-a,t),c.quadraticCurveTo(e+r,t,e+r,t+a),c.lineTo(e+r,t+n-a),c.quadraticCurveTo(e+r,t+n,e+r-a,t+n),c.lineTo(e+a,t+n),c.quadraticCurveTo(e,t+n,e,t+n-a),c.lineTo(e,t+a),c.quadraticCurveTo(e,t,e+a,t),c.closePath()}function r(e,t,n,a,o="#1f2937",i){c.fillStyle=o,c.font=`${a}px system-ui`,i?c.fillText(e,t,n,i):c.fillText(e,t,n)}function n(e,n,a,o,i,s){c.fillStyle="white",t(e,n,a,o,8),c.fill(),r(i,e+15,n+25,12,"#6b7280"),r(s||"未入力",e+15,n+45,16,"#1f2937",a-30)}u.addColorStop(0,g.colors[0]),u.addColorStop(1,g.colors[1]),c.fillStyle=u,c.fillRect(0,0,600,800);let p=40;r("【自己紹介カード】",300,p+25,32,"#3b82f6"),c.textAlign="start",p+=70,n(40,p,520,60,"名前（ニックネーム）",o.name),p+=80;let f=o.birthMonth&&o.birthDay?`${o.birthMonth}月 ${o.birthDay}日`:"未入力";n(40,p,520,60,"誕生日",f),p+=80,n(40,p,250,60,"学部",o.department),n(310,p,250,60,"学年",o.grade?`${o.grade}年`:""),p+=80,n(40,p,250,60,"出身",o.hometown),n(310,p,250,60,"MBTI",o.mbti),p+=80,n(40,p,250,60,"最近のマイブーム",o.recentBoom),n(310,p,250,60,"特技",o.skill),p+=80,n(40,p,250,60,"高校の部活",o.part),n(310,p,250,60,"最近のニュース",o.recentNews),p+=80,n(40,p,250,80,"好きな食べ物",o.favoriteBand),c.fillStyle="white",t(310,p,250,80,8),c.fill(),r(`${o.rankingLabel||"ランキング"}`,325,p+25,12,"#6b7280"),r(`1. ${o.ranking1||"未入力"}`,325,p+45,14),r(`2. ${o.ranking2||"未入力"}`,325,p+60,14),r(`3. ${o.ranking3||"未入力"}`,325,p+75,14),p+=100,n(40,p,520,80,"ひとこと",o.comment);let m=i.toBuffer("image/png");return new s.NextResponse(m,{headers:{"Content-Type":"image/png","Content-Length":m.length.toString()}})}catch(e){return console.error("画像生成エラー:",e),new s.NextResponse("画像生成に失敗しました",{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/generate-card/route",pathname:"/api/generate-card",filename:"route",bundlePath:"app/api/generate-card/route"},resolvedPagePath:"C:\\dev\\winc\\self-introduction-card\\src\\app\\api\\generate-card\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:g,workUnitAsyncStorage:u,serverHooks:p}=d;function f(){return(0,i.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:u})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,580],()=>r(573));module.exports=n})();